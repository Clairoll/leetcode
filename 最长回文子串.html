<!--
 * @Autor: Clairoll
 * @Date: 2020-12-15 17:39:23
 * @LastEditTime: 2020-12-16 15:23:05
 * @Email: 1755033445@qq.com
 * @description: 
-->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        //         给定一个字符串 s，找到 s 中最长的回文子串。你可以假设 s 的最大长度为 1000。

        // 示例 1：

        // 输入: "babad"
        // 输出: "bab"
        // 注意: "aba" 也是一个有效答案。
        // 示例 2：

        // 输入: "cbbd"
        // 输出: "bb"
        /**
         * @param {string} s
         * @return {string}
         */
        var longestPalindrome = function (s) {
            let arr = s.split("")
            let len = s.length
            let index = 0
            let maxLength = []
            const max = function (left, right, data) {
                let newData = data || []
                while (left > 0 || right < len) {
                    if (arr[left] == arr[right]) {
                        newData.unshift(arr[left])
                        newData.push(arr[right])
                        left--
                        right++
                    } else {
                        break
                    }
                }
                return newData
            }
           
            while (index < len) {
                 //回文为基数
                let newArr1 = max(index - 1, index + 1, [arr[index]])
                 // 回文为偶数
                let newArr2 = max(index, index + 1, [])

                if(newArr1.length > newArr2.length) {
                    newArr2 = newArr1
                }
                if (maxLength.length < newArr2.length) {
                    maxLength = newArr2
                }
                index++
            }
           
            return maxLength.join("")
        };

        console.log(longestPalindrome('babad')) // bab
        console.log(longestPalindrome("cbbd")) // bb
        console.log(longestPalindrome("bb")) // bb
        console.log(longestPalindrome("aaaa")) // aaaa
        console.log(longestPalindrome("aacabdkacaa")) // aca
    </script>
</body>

</html>