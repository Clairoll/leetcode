<!--
 * @Autor: Clairoll
 * @Date: 2021-02-22 09:56:15
 * @LastEditTime: 2021-02-22 11:13:30
 * @Email: 1755033445@qq.com
 * @description: 
-->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    //     给你一个只包含 '(' 和 ')' 的字符串，找出最长有效（格式正确且连续）括号子串的长度。

    //  

    // 示例 1：

    // 输入：s = "(()"
    // 输出：2
    // 解释：最长有效括号子串是 "()"
    // 示例 2：

    // 输入：s = ")()())"
    // 输出：4
    // 解释：最长有效括号子串是 "()()"
    // 示例 3：

    // 输入：s = ""
    // 输出：0
    //  

    // 提示：

    // 0 <= s.length <= 3 * 104
    // s[i] 为 '(' 或 ')'
    /**
     * @param {string} s
     * @return {number}
     */
    var longestValidParentheses = function (s) {
     let stac = []
     let res = 0
     for(let i=0; i< s.length; i++) {
       if(s[i]== '(') {
         stac.push(i)
       } else {
         stac.pop()
        if(stac.length) {
          res = Math.max(res, i-stac[stac.length - 1])
        } else {
          stac.push(i)
        }
       }
     }
    return res
    };

    console.log(longestValidParentheses(")()())"))
  </script>
</body>

</html>